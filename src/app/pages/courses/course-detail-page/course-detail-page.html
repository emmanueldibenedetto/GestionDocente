<div class="course-detail">
  <div class="header">
    <h2>Curso {{course()?.name}} - {{course()?.school}}</h2>

    <button class="btn-toggle" (click)="toggleVista()">
      @if (mostrarAsistencias()) {
        Volver a Notas
      } @else {
        Ver Asistencias
      }
    </button>
  </div>

  <!-- Lista de alumnos (siempre visible) -->
  <app-course-students
    [courseId]="courseId()"
    (studentAdded)="onStudentAdded($event)"
    (studentRemoved)="onStudentRemoved($event)"
    (studentUpdated)="onStudentUpdated($event)">
  </app-course-students>

  <!-- Toggle entre Notas y Asistencias -->
  @if (mostrarAsistencias()) {
    <app-course-attendance
      [courseId]="courseId()"
      [students]="studentsForChildren()">
    </app-course-attendance>
  } @else {
    <app-course-grades
      [courseId]="courseId()"
      #gradesComp
      (gradesUpdated)="onGradesUpdated()">
    </app-course-grades>
  }
</div>